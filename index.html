<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabalho Web</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>

    

    <aside id="aside1">

        <section id="jog" > <!--define a pontuacao do primeiro player na tabela a esquerda-->
            <div id="jog1"></div>
            <div id="pontJog">
                <div id="jr1"></div>
                <div id="jr2"></div>
                <div id="jr3"></div>
                <div id="totalJog"></div>
                
            </div>

        </section>

        <section id="inicio">

            <button onclick="Jog()">Jogar</button> <!--executa função de aleatorizar dado do player 1-->
        </section>
    </aside>
    <main>

        <table class="tabela"> <!--tabela do segundo player-->

            <tbody>

                <tr>

                    <td id="bot1x1" onclick="valorBot('bot1x1', botAux)"> <!--executa definicao e ciclo de jogo na tabela de cima-->

                    </td>
                    <td id="bot1x2" onclick="valorBot('bot1x2', botAux)"> <!--ou seja, a tabela do segundo player-->

                    </td>
                    <td id="bot1x3" onclick="valorBot('bot1x3', botAux)">
                        
                    </td>
                </tr>
                <tr>

                    <td id="bot2x1" onclick="valorBot('bot2x1', botAux)">

                    </td>
                    <td id="bot2x2" onclick="valorBot('bot2x2', botAux)">

                    </td>
                    <td id="bot2x3" onclick="valorBot('bot2x3', botAux)">
                        
                    </td>
                </tr>
                <tr>

                    <td id="bot3x1" onclick="valorBot('bot3x1', botAux)">

                    </td>
                    <td id="bot3x2" onclick="valorBot('bot3x2', botAux)">

                    </td>
                    <td id="bot3x3" onclick="valorBot('bot3x3', botAux)">

                    </td>
                </tr>
            </tbody>
        </table>

        <table class="tabela">  <!--tabela do primeiro player-->

            <tbody>

                <tr>

                    <td id="jog1x1" onclick="valorJog('jog1x1', jogAux)"> <!--executa definicao e ciclo de jogo na tabela de baixo-->

                    </td>
                    <td id="jog1x2" onclick="valorJog('jog1x2', jogAux)"> <!--ou seja, a tabela do primeiro player-->

                    </td>
                    <td id="jog1x3" onclick="valorJog('jog1x3', jogAux)">
                        
                    </td>
                </tr>
                <tr>

                    <td id="jog2x1" onclick="valorJog('jog2x1', jogAux)">

                    </td>
                    <td id="jog2x2" onclick="valorJog('jog2x2', jogAux)">

                    </td>
                    <td id="jog2x3" onclick="valorJog('jog2x3', jogAux)">
                        
                    </td>
                </tr>
                <tr>

                    <td id="jog3x1" onclick="valorJog('jog3x1', jogAux)">

                    </td>
                    <td id="jog3x2" onclick="valorJog('jog3x2', jogAux)">

                    </td>
                    <td id="jog3x3" onclick="valorJog('jog3x3', jogAux)">

                    </td>
                </tr>
            </tbody>
        </table>
    </main>
    <aside id="aside2">

        <section id="bot"> <!--define a pontuacao do segundo player na tabela a direita-->
                <div id="bot1"></div>
                <div id="pontBot">
                    <div id="br1"></div>
                    <div id="br2"></div>
                    <div id="br3"></div>
                    <div id="totalBot"></div>
                </div>

        </section>

        <section id="fim">

            <button onclick="Bot()">Jogar</button> <!--executa função de aleatorizar dado do player 2-->
        </section>
    </aside>

    <script>
        //define as matrizes que vao guardar os valores dos dados
        let bot = [
            [0, 0, 0],
            [0, 0, 0],
            [0, 0, 0]
        ]


        let jog = [
            [0, 0, 0],
            [0, 0, 0],
            [0, 0, 0]
        ]
        //define as variaveis que vao guardar os valores dos dados
        let botAux = 0;
        let jogAux = 0;
        //define as variaveis que vao guardar os pontos dos jogadores
        let pontoJog = 0;
        let pontoJog1 = 0;
        let pontoJog2 = 0;
        let pontoJog3 = 0;
        let pontoBot = 0;
        let pontoBot1 = 0;
        let pontoBot2 = 0;
        let pontoBot3 = 0;

        function Jog() { //funcao que define o valor do dado do player 1 aleatoriamente entre 1 e 6
            jogAux = Math.floor(Math.random() * 6) + 1;
            document.getElementById('jog1').innerText = jogAux
        }

        function Bot() { //funcao que define o valor do dado do player 2 aleatoriamente entre 1 e 6
            botAux = Math.floor(Math.random() * 6) + 1;
            document.getElementById('bot1').innerText = botAux
        }

        function valorBot(id, dado) { //ciclo de jogo do p2 em que é definido o valor na tabela do p2 e sao executadas as funções do ciclo
            //primeiramente define-se na tabela se obtendo a posição pelo ID e verificando se não há itens na posição desejada
            let linha = id.charAt(3);
            let coluna = id.charAt(5);
            if (bot[linha - 1][coluna - 1] == 0) {
                bot[linha - 1][coluna - 1] = dado;
            } else {
                return 0;
            }
            document.getElementById(id).innerText = dado; //define o valor na tabela
            zerarIguais(coluna-1,bot); //verifica se ha itens para ser zerados 
            Bot(); //aleatoriza o proximo dado
            CalcPontosBot(); //calcula os pontos do player 2 e os atualiza
            ganhaJog(); //verifica se o jogo acabou e avisa quem ganhou
        }

        function valorJog(id, dado) { //ciclo de jogo do p1 em que é definido o valor na tabela do p1 e sao executadas as funções do ciclo
            //primeiramente define-se na tabela se obtendo a posição pelo ID e verificando se não há itens na posição desejada
            let linha = id.charAt(3);
            let coluna = id.charAt(5);
            if (jog[linha - 1][coluna - 1] == 0) {
                jog[linha - 1][coluna - 1] = dado;
            } else {
                return 0;
            }
            document.getElementById(id).innerText = dado; //define o valor na tabela
            zerarIguais(coluna-1,jog); //verifica se ha itens para ser zerados
            Jog(); //aleatoriza o proximo dado
            CalcPontosJog(); //calcula os pontos do player 2 e os atualiza
            ganhaJog(); //verifica se o jogo acabou e avisa quem ganhou
        }



            

    </script>
    
</body>
</html>